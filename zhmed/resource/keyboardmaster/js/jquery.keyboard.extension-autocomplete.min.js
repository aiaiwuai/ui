/*! jQuery UI Virtual Keyboard Autocomplete v1.11.3 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";a.fn.addAutocomplete=function(b){var c={position:{of:null,my:"right top",at:"left top",collision:"flip"},events:"autocomplete",data:""};return this.each(function(){var d,e,f=a(this).data("keyboard");f&&(e=f.namespace+"Autocomplete",f.autocomplete_namespace=e,f.extensionNamespace.push(e),f.autocomplete_init=function(){d=f.autocomplete_options=a.extend(!0,{},c,b);var g=d.events||d.data||"autocomplete";f.options.alwaysOpen&&f.isVisible()&&f.autocomplete_setup(),f.$el.unbind(e).bind(a.keyboard.events.kbVisible+e,function(){f.autocomplete_setup()}).bind(a.keyboard.events.kbHidden+e,function(){f.$el[d.data||"autocomplete"]("close")}).bind(a.keyboard.events.kbChange+e,function(){f.hasAutocomplete&&f.isVisible()&&f.$el.val(f.$preview.val())}).bind(g+"open"+e,function(){if(f.hasAutocomplete){var b=a.extend({},d.position);b.of=b.of||f.$keyboard,f.$autocomplete.menu.element.position(b)}}).bind(g+"select"+e,function(a,b){f.autocomplete_getVal(b.item)})},f.autocomplete_getVal=function(a){var b;switch(typeof a){case"string":b=a||"";break;case"object":b=a.label||a.value||"";break;default:b=f.preview&&f.preview.value||f.el.value}b=b.toString(),f.hasAutocomplete&&""!==b&&((f.$preview||f.$el).val(b).focus(),f.last.start=b.length,f.last.end=b.length,f.last.val=b)},f.autocomplete_update=function(a){clearTimeout(f.$autocomplete.searching),f.$autocomplete.searching=setTimeout(function(){f.$autocomplete.term!==f.$autocomplete.element.val()&&(f.$autocomplete.selectedItem=null,f.$autocomplete.search(null,a))},f.$autocomplete.options.delay)},f.autocomplete_navKeys={8:"backSpace",9:"tab",13:"enter",20:"capsLock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},f.autocomplete_setup=function(){var a;if(f.$autocomplete=f.$el.data(f.autocomplete_options.data)||f.$el.data("uiAutocomplete")||f.$el.data("ui-autocomplete")||f.$el.data("autocomplete"),f.hasAutocomplete=void 0!==f.$autocomplete&&!f.$autocomplete.options.disabled,f.hasAutocomplete){f.$preview.bind("keydown"+e+" keypress"+e,function(b){f.$preview&&b.namespace!==f.$autocomplete.eventNamespace&&(b.namespace=f.$autocomplete.eventNamespace.slice(1),a=f.autocomplete_navKeys[b.which],a?f.el!==f.preview&&(f.$el.triggerHandler(b),"enter"===a&&setTimeout(function(){f.$preview.val(f.$autocomplete.selectedItem.value),f.$preview.focus()},100)):f.autocomplete_update(b))});var b="mouseup mousedown mouseleave touchstart touchend touchcancel ".split(" ").join(e+" ");f.$allKeys.bind(b,function(a){f.autocomplete_update(a)})}},f.origEscClose=f.escClose,f.escClose=function(b){f.hasAutocomplete&&("ui-active-menuitem"===b.target.id||a(b.target).closest("ul").hasClass("ui-autocomplete"))||f.origEscClose(b)},f.autocomplete_init())})}});